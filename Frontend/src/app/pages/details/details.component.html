<div class="container product-detail" *ngIf="product() && store()">
  <!-- Secci√≥n de producto -->
  <section class="product">
    <div class="image">
      <img
        [src]="product()?.image_url"
        [alt]="product()?.name"
        class="img-fluid rounded shadow"
      />
    </div>

    <div class="product-info">
      <h1 class="product-title">{{ product()?.name }}</h1>
      <p class="product-description">{{ product()?.description }}</p>
      <h2 class="price">{{ product()?.price | currency: 'COP' }}</h2>
      <p><strong>Stock:</strong> {{ product()?.stock }}</p>
      <p><strong>Marca:</strong> {{ product()?.brand }}</p>
      <p><strong>Tipo:</strong> {{ product()?.type }}</p>
      <p><strong>Lanzamiento:</strong> {{ product()?.release_date | date: 'longDate' }}</p>

      <a
        [href]="product()?.link"
        target="_blank"
        class="btn-outline-secondary"
      >
        Comprar
      </a>

      <hr />

      <!-- Logo y datos b√°sicos de la tienda -->
      <div class="store-info">
        <h5>Vendido por: {{ store()?.name }}</h5>
        <img
          *ngIf="store()?.image"
          [src]="store()?.image"
          [alt]="store()?.name"
          class="store-logo"
        />
        <p>{{ store()?.description }}</p>
        <p><strong>Categor√≠a:</strong> {{ store()?.category }}</p>
        <p><strong>Puntaje:</strong> {{ store()?.score }}</p>
      </div>
    </div>
  </section>

  <!-- Secci√≥n de comentarios -->
  <section class="comments-section">
    <h2>üó®Ô∏è Comentarios</h2>

    <div class="comment-input">
      <textarea
        [(ngModel)]="newCommentText"
        placeholder="Escribe tu comentario..."
        rows="3"
      ></textarea>
      <button (click)="addComment()" [disabled]="!newCommentText">
        Enviar
      </button>
    </div>

    <div class="comments-list">
      <div *ngFor="let comment of comments()" class="comment-item">
        <p>{{ comment.text }}</p>
        <small>{{ comment.timestamp | date: 'short' }}</small>
      </div>
    </div>
  </section>
</div>
